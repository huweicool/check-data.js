!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self)["get-safe-value"]=t()}(this,(function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function n(n,t,r){return n(r={path:t,exports:{},require:function(n,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var t=n((function(n,t){n.exports=function(){var n=Object.prototype.toString,t=function(t,r){return n.call(t)==="[object "+r+"]"};function r(n){return String.prototype.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var e=function(n){return t(n,"String")},i=function(n){return t(n,"Boolean")},u=Math.pow(2,53)-1,o=function(n){return t(n,"Number")},c=function(n){return t(n,"Array")},s=function(n){return t(n,"Object")};return{isNull:function(n){return t(n,"Null")},isUndefined:function(n){return t(n,"Undefined")},isString:e,isValidString:function(n){return e(n)&&r(n).length>0},isEmptyString:function(n){return e(n)&&0===r(n).length},isBoolean:i,isTrue:function(n){return i(n)&&!0===n},isFalse:function(n){return i(n)&&!1===n},isNumber:o,isValidNumber:function(n){return o(n)&&isFinite(n)&&n<u&&n>-u},isGeneralFunction:function(n){return t(n,"Function")},isGeneratorFunction:function(n){return t(n,"GeneratorFunction")},isFunction:function(t){return n.call(t).toLowerCase().includes("function")},isAsyncFunction:function(n){return t(n,"AsyncFunction")},isArray:c,isArrayBuffer:function(n){return t(n,"ArrayBuffer")},isValidArray:function(n){return c(n)&&n.length>0},isEmptyArray:function(n){return c(n)&&0===n.length},isObject:s,isValidObject:function(n){return s(n)&&Object.keys(n).length>0},isEmptyObject:function(n){return s(n)&&0===Object.keys(n).length},isDate:function(n){return t(n,"Date")},isError:function(n){return t(n,"Error")},isMap:function(n){return t(n,"Map")},isSet:function(n){return t(n,"Set")},isPromise:function(n){return t(n,"Promise")},isSymbol:function(n){return t(n,"Symbol")},isWeakMap:function(n){return t(n,"WeakMap")},isWeakSet:function(n){return t(n,"WeakSet")}}}()})),r=n((function(n,t){n.exports=function(){var n=function(n,t,r){return n(r={path:void 0,exports:{},require:function(n,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}((function(n,t){n.exports=function(){var n=Object.prototype.toString,t=function(t,r){return n.call(t)==="[object "+r+"]"};function r(n){return String.prototype.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var e=function(n){return t(n,"String")},i=function(n){return t(n,"Boolean")},u=Math.pow(2,53)-1,o=function(n){return t(n,"Number")},c=function(n){return t(n,"Array")},s=function(n){return t(n,"Object")};return{isNull:function(n){return t(n,"Null")},isUndefined:function(n){return t(n,"Undefined")},isString:e,isValidString:function(n){return e(n)&&r(n).length>0},isEmptyString:function(n){return e(n)&&0===r(n).length},isBoolean:i,isTrue:function(n){return i(n)&&!0===n},isFalse:function(n){return i(n)&&!1===n},isNumber:o,isValidNumber:function(n){return o(n)&&isFinite(n)&&n<u&&n>-u},isGeneralFunction:function(n){return t(n,"Function")},isGeneratorFunction:function(n){return t(n,"GeneratorFunction")},isFunction:function(t){return n.call(t).toLowerCase().includes("function")},isAsyncFunction:function(n){return t(n,"AsyncFunction")},isArray:c,isArrayBuffer:function(n){return t(n,"ArrayBuffer")},isValidArray:function(n){return c(n)&&n.length>0},isEmptyArray:function(n){return c(n)&&0===n.length},isObject:s,isValidObject:function(n){return s(n)&&Object.keys(n).length>0},isEmptyObject:function(n){return s(n)&&0===Object.keys(n).length},isDate:function(n){return t(n,"Date")},isError:function(n){return t(n,"Error")},isMap:function(n){return t(n,"Map")},isSet:function(n){return t(n,"Set")},isPromise:function(n){return t(n,"Promise")},isSymbol:function(n){return t(n,"Symbol")},isWeakMap:function(n){return t(n,"WeakMap")},isWeakSet:function(n){return t(n,"WeakSet")}}}()})),t=n.isString,r=n.isNumber,e=n.isBoolean,i=n.isObject,u=n.isArray,o=n.isFunction,c=function(n){return n},s=/[^.\[\]]+/g;function f(n,t){if(i(n)||u(n))return n[t]}function a(n,r,e,i,o){if(void 0===o&&(o=c),u(r))return r.map((function(t){return a(n,t,e,i,o)}));var l=function(n){return t(n)&&/[\.\[\]]+/g.test(n)}(r)?function(n,t){for(var r=t.match(s)||[],e=n;r.length;)e=f(e,r.shift());return e}(n,r):f(n,r);return i(l)?o(l):e}return{getAny:function(n,t){return a(n,t,void 0,(function(){return!0}))},getString:function(n,i){return a(n,i,"",(function(n){return t(n)||r(n)||e(n)}),(function(n){return String(n)}))},getNumber:function(n,t){return a(n,t,0,(function(n){return isFinite(Number(n))}),(function(n){return Number(n)}))},getBoolean:function(n,r){return a(n,r,!1,(function(n){return t(n)&&(n=n.toLowerCase()),e(n)||0===n||1===n||"false"===n||"true"===n}),(function(n){return Boolean(n)}))},getObject:function(n,t){return a(n,t,{},i)},getArray:function(n,t){return a(n,t,[],u)},getFunction:function(n,t){return a(n,t,(function(){}),o)}}}()}));var e=function(n){return/^1[3456789]\d{9}$/.test(n)},i=function(n){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/g.test(n)},u=function(n){return/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/.test(n)||/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[A-Z])$/.test(n)},o=function(n){return/(http[s]?|ftp):\/\/[^\/\.]+?\..+\w$/i.test(n)},c=r.getString,s=r.getNumber,f=r.getArray,a=t.isNull,l=t.isUndefined,g=t.isString,p=t.isValidString,y=e,d=i,h=u,m=o,b=null,F=function(n){return c(n,"message")||"fail"},S={notEmpty:function(n,t){return a(n)||l(n)||g(n)&&!p(n)?F(t):b},length:function(n,t){var r=F(t),e=f(t,"value"),i=s(e,"0",null),u=s(e,"1",null);return 0==e.length||a(i)?r:1==e.length?n.length<i?r:b:a(u)||n.length<i||n.length>u?r:b},notEqual:function(n,t){return n===t.value?b:F(t)},enum:function(n,t){var r=t.value||{};return Object.keys(r).findIndex((function(t){return r[t]===n}))>-1?b:F(t)},phone:function(n,t){return y(n)?b:F(t)},email:function(n,t){return d(n)?b:F(t)},IDCard:function(n,t){return h(n)?b:F(t)},URL:function(n,t){return m(n)?b:F(t)}},A=S,v=t.isObject,j=t.isArray,w=t.isFunction,O=t.isNull,E=t.isUndefined,N=t.isValidString,k=t.isFalse,x=t.isValidArray,M=r.getString;function V(n){if(this.config={},!v(n))throw"The parameters Validate the function must be object";if(!(this instanceof V))return new V(n);this.config=n}return V.prototype.start=async function(n){var t=this;if(!v(n))throw"The parameters start the function must be object";var r=this.config;return new Promise((async function(e){for(var i=[],u=Object.keys(r),o=0;o<u.length;o++){var c=u[o],s=r[c],f=await t.getMessage(c,s,n);f&&i.push(f)}e(i=t.getResult(i))}))},V.prototype.getMessage=async function(n,t,r){var e=null;if(v(t)){var i=await this.getSingleMessage(n,t,r);i&&(e={key:n,message:[i]})}if(j(t)){for(var u=[],o=0;o<t.length;o++){var c=await this.getSingleMessage(n,t[o],r);c&&u.push(c)}u.length>0&&(e={key:n,message:u})}return e},V.prototype.getSingleMessage=async function(n,t,r){var e=M(t,"type"),i=M(t,"message")||"fail",u=t.test,o=r[n];if(w(u)){var c=await u(o,n,t);return O(c)||E(c)||k(c)?null:N(c)?c:i}return A.hasOwnProperty(e)?A[e](o,t):null},V.prototype.getResult=async function(n){var t={error:null,list:n.length>0?n:null};if(n.length>0){var r=n[0].message;t.error=x(r)?r[0]:r}return t},V}));
